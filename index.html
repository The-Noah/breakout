<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="author"content="The Noah"><meta name="description"content="Online breakout game"><title>Breakout</title><style>*{box-sizing:border-box;user-select:none;-webkit-tap-highlight-color:transparent}:root{font-size:18px}body,html{height:100%}body{margin:0;background-color:#000;font-family:Arial,sans-serif;display:flex;flex-direction:column;justify-content:center;align-items:center}canvas{border:2px solid #fff}</style></head><body><canvas width="480"height="320"></canvas><script>var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,i=1,a=arguments.length;i<a;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)},canvas=document.querySelector("canvas"),ctx=canvas.getContext("2d"),PARTICLES=50,PARTICLE_SIZE=2,PARTICLE_SPEED=10,BALL_RADIUS=10,ballSpeed=3,PADDLE_SPEED=6,PADDLE_INFLUENCE=1,BRICK_ROW_COUNT=3,BRICK_COLUMN_COUNT=5,BRICK_WIDTH=75,BRICK_HEIGHT=20,BRICK_PADDING=10,BRICK_OFFSET_TOP=30,BRICK_OFFSET_LEFT=30,score=0,lives=3,round=1,keysPressed={left:!1,right:!1};document.addEventListener("keydown",(function(t){"Left"===t.key||"ArrowLeft"===t.key?keysPressed.left=!0:"Right"!==t.key&&"ArrowRight"!==t.key||(keysPressed.right=!0)}),!1),document.addEventListener("keyup",(function(t){"Left"===t.key||"ArrowLeft"===t.key?keysPressed.left=!1:"Right"!==t.key&&"ArrowRight"!==t.key||(keysPressed.right=!1)}),!1),document.addEventListener("mousemove",(function(t){var e=t.clientX-canvas.offsetLeft;e>0&&e<canvas.width&&(paddle.x=e-paddle.width/2)}),!1);var gameObjects=[],ball={x:0,y:0,width:BALL_RADIUS,height:BALL_RADIUS,dx:0,dy:0,update:function(){(this.x+this.dx<this.width||this.x+this.dx>canvas.width-this.width)&&(this.dx=-this.dx),this.y+this.dy<this.height?this.dy=-this.dy:checkCollisionBetweenColliders(paddle,this)||this.y+this.dy>=canvas.height-this.height&&this.x-this.width>paddle.x&&this.x<paddle.x+paddle.width?(this.dy=-this.dy,this.dx+=Math.random()+PADDLE_INFLUENCE*(ball.x+ball.width>paddle.x+paddle.width/2?1:-1),Math.abs(this.dx)<ballSpeed/2?this.dx=this.dx<0?-ballSpeed/2:ballSpeed/2:Math.abs(this.dx)>2*ballSpeed&&(this.dx=this.dx<0?2*-ballSpeed:2*ballSpeed)):this.y+this.dy>canvas.height-this.height&&(--lives>0?resetPaddleAndBall():reset("Game Over. Final Score: "+score))},draw:function(){ctx.beginPath(),ctx.arc(this.x,this.y,this.width,0,2*Math.PI),ctx.fill(),ctx.closePath()}};gameObjects.push(ball);var paddle={x:0,y:canvas.height-15,width:75,height:10,dx:0,dy:0,update:function(){keysPressed.left?this.x-=PADDLE_SPEED:keysPressed.right&&(this.x+=PADDLE_SPEED),this.x<0?this.x=0:this.x+this.width>canvas.width&&(this.x=canvas.width-this.width)},draw:function(){ctx.beginPath(),ctx.rect(this.x,this.y,this.width,this.height),ctx.fill(),ctx.closePath()}};gameObjects.push(paddle);var bricks=[],generateBricks=function(){bricks.splice(bricks.length-1);for(var t=0;t<BRICK_COLUMN_COUNT;t++){bricks[t]=[];for(var e=0;e<BRICK_ROW_COUNT;e++)bricks[t][e]={x:t*(BRICK_WIDTH+BRICK_PADDING)+BRICK_OFFSET_LEFT,y:e*(BRICK_HEIGHT+BRICK_PADDING)+BRICK_OFFSET_TOP}}},checkCollision=function(t,e,i,a,s,h,d,l){return!(i<s||t>d||e>l||a<h)},checkCollisionBetweenColliders=function(t,e){return checkCollision(t.x,t.y,t.x+t.width,t.y+t.height,e.x,e.y,e.x+e.width,e.y+e.height)},spawnParticle=function(t,e,i,a){var s={x:t,y:e,width:PARTICLE_SIZE,height:0,dx:i||(.2+PARTICLE_SPEED*Math.random())*(Math.random()<.5?-1:1),dy:a||(.2+PARTICLE_SPEED*Math.random())*(Math.random()<.5?-1:1),update:function(){},draw:function(){ctx.beginPath(),ctx.arc(this.x,this.y,this.width,0,2*Math.PI),ctx.fill(),ctx.closePath()}};gameObjects.push(s)},checkBrickCollision=function(){for(var t=0;t<BRICK_COLUMN_COUNT;t++)for(var e=0;e<BRICK_ROW_COUNT;e++){var i=bricks[t][e];if(i&&checkCollisionBetweenColliders(ball,__assign(__assign({},i),{width:BRICK_WIDTH,height:BRICK_HEIGHT}))){ball.dy=-ball.dy,bricks[t][e]=!1,score+=round;for(var a=0;a<PARTICLES;a++)spawnParticle(i.x+BRICK_WIDTH/2,i.y+BRICK_HEIGHT/2);0===bricks.filter((function(t){return t.filter((function(t){return t})).length>0})).length&&(round++,reset())}}},resetPaddleAndBall=function(){paddle.x=(canvas.width-paddle.width)/2,ball.x=canvas.width/2,ball.y=canvas.height-30,ball.dx=ballSpeed*Math.random()*(Math.random()<.5?-1:1),ball.dy=1.5*-ballSpeed},reset=function(t){t&&(alert(t),score=0,lives=3),ballSpeed+=round/2,resetPaddleAndBall(),generateBricks()},update=function(){for(var t=0,e=gameObjects;t<e.length;t++){var i=e[t];i.update(),i.x+=i.dx,i.y+=i.dy,i!==ball&&i!==paddle&&(i.x<0||i.x+i.width>canvas.width||i.y<0||i.y+i.height>canvas.height)&&gameObjects.splice(gameObjects.indexOf(i),1)}checkBrickCollision(),draw(),requestAnimationFrame(update)},draw=function(){ctx.clearRect(0,0,canvas.width,canvas.height);for(var t=0,e=gameObjects;t<e.length;t++){e[t].draw()}for(var i=0;i<BRICK_COLUMN_COUNT;i++)for(var a=0;a<BRICK_ROW_COUNT;a++){var s=bricks[i][a];s&&(ctx.beginPath(),ctx.rect(s.x,s.y,BRICK_WIDTH,BRICK_HEIGHT),ctx.fill(),ctx.closePath())}ctx.fillText("Score: "+score,8,18),ctx.fillText("Lives: "+lives,canvas.width-ctx.measureText("Lives: "+lives).width-8,18)};ctx.font="16px Arial",ctx.fillStyle="#FFF",reset(),update();</script></body></html>