<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport"content="width=device-width,initial-scale=1"><meta name="author"content="The Noah"><meta name="description"content="Online breakout game"><title>Breakout</title><style>*{box-sizing:border-box;user-select:none;-webkit-tap-highlight-color:transparent}:root{font-size:18px}body,html{height:100%}body{margin:0;background-color:#000;font-family:Arial,sans-serif;display:flex;flex-direction:column;justify-content:center;align-items:center}canvas{border:2px solid #fff}</style></head><body><canvas width="480"height="320"></canvas><script>var canvas=document.querySelector("canvas"),ctx=canvas.getContext("2d"),PARTICLES=50,PARTICLE_SIZE=2,PARTICLE_SPEED=10,BALL_RADIUS=10,BALL_SPEED=4,PADDLE_SPEED=6,PADDLE_INFLUENCE=1,BRICK_ROW_COUNT=3,BRICK_COLUMN_COUNT=5,BRICK_WIDTH=75,BRICK_HEIGHT=20,BRICK_PADDING=10,BRICK_OFFSET_TOP=30,BRICK_OFFSET_LEFT=30,running=!0,score=0,lives=3,paddleCanCollide=!0,keysPressed={left:!1,right:!1};document.addEventListener("keydown",(function(t){"Left"===t.key||"ArrowLeft"===t.key?keysPressed.left=!0:"Right"!==t.key&&"ArrowRight"!==t.key||(keysPressed.right=!0)}),!1),document.addEventListener("keyup",(function(t){"Left"===t.key||"ArrowLeft"===t.key?keysPressed.left=!1:"Right"!==t.key&&"ArrowRight"!==t.key||(keysPressed.right=!1)}),!1),document.addEventListener("mousemove",(function(t){var e=t.clientX-canvas.offsetLeft;e>0&&e<canvas.width&&(paddle.x=e-paddle.width/2)}),!1);var gameObjects=[],ball={x:0,y:0,dx:0,dy:0,width:BALL_RADIUS,height:BALL_RADIUS,update:function(){(this.x+this.dx<this.width||this.x+this.dx>canvas.width-this.width)&&(this.dx=-this.dx),this.y+this.dy<this.height?this.dy=-this.dy:paddleCanCollide&&checkCollisionBetweenObjects(paddle,ball)?(this.dy=-this.dy,this.dx+=Math.random()+PADDLE_INFLUENCE*(ball.x+ball.width>paddle.x+paddle.width/2?1:-1),Math.abs(this.dx)<BALL_SPEED/2?this.dx=this.dx<0?-BALL_SPEED/2:BALL_SPEED/2:Math.abs(this.dx)>2*BALL_SPEED&&(this.dx=this.dx<0?2*-BALL_SPEED:2*BALL_SPEED),paddleCanCollide=!1,setTimeout((function(){return paddleCanCollide=!0}),100)):this.y+this.dy>canvas.height-this.height&&(--lives>0?resetPaddleAndBall():end("Game Over"))},draw:function(){ctx.beginPath(),ctx.arc(this.x,this.y,this.width,0,2*Math.PI),ctx.fill(),ctx.closePath()}};gameObjects.push(ball);var paddle={x:0,y:canvas.height-15,dx:0,dy:0,width:75,height:10,update:function(){keysPressed.left?this.x-=PADDLE_SPEED:keysPressed.right&&(this.x+=PADDLE_SPEED),this.x<0?this.x=0:this.x+this.width>canvas.width&&(this.x=canvas.width-this.width)},draw:function(){ctx.beginPath(),ctx.rect(this.x,this.y,this.width,this.height),ctx.fill(),ctx.closePath()}};gameObjects.push(paddle);for(var bricks=[],column=0;column<BRICK_COLUMN_COUNT;column++){bricks[column]=[];for(var row=0;row<BRICK_ROW_COUNT;row++)bricks[column][row]={x:column*(BRICK_WIDTH+BRICK_PADDING)+BRICK_OFFSET_LEFT,y:row*(BRICK_HEIGHT+BRICK_PADDING)+BRICK_OFFSET_TOP}}var checkCollision=function(t,e,i,a,d,h,s,n){return!(i<d||t>s||e>n||a<h)},checkCollisionBetweenObjects=function(t,e){return checkCollision(t.x,t.y,t.x+t.width,t.y+t.height,e.x,e.y,e.x+e.width,e.y+e.height)},spawnParticle=function(t,e,i,a){var d={x:t,y:e,dx:i||(.2+PARTICLE_SPEED*Math.random())*(Math.random()<.5?-1:1),dy:a||(.2+PARTICLE_SPEED*Math.random())*(Math.random()<.5?-1:1),width:PARTICLE_SIZE,height:0,update:function(){},draw:function(){ctx.beginPath(),ctx.arc(this.x,this.y,this.width,0,2*Math.PI),ctx.fill(),ctx.closePath()}};gameObjects.push(d)},checkBrickCollision=function(){for(var t=0;t<BRICK_COLUMN_COUNT;t++)for(var e=0;e<BRICK_ROW_COUNT;e++){var i=bricks[t][e];if(i&&checkCollision(ball.x,ball.y,ball.x+ball.width,ball.y+ball.height,i.x,i.y,i.x+BRICK_WIDTH,i.y+BRICK_HEIGHT)){ball.dy=-ball.dy,bricks[t][e]=!1,score++;for(var a=0;a<PARTICLES;a++)spawnParticle(i.x+BRICK_WIDTH/2,i.y+BRICK_HEIGHT/2);score===BRICK_ROW_COUNT*BRICK_COLUMN_COUNT&&end("You Win!")}}},resetPaddleAndBall=function(){paddle.x=(canvas.width-paddle.width)/2,ball.x=canvas.width/2,ball.y=canvas.height-30,ball.dx=BALL_SPEED*Math.random()*(Math.random()<.5?-1:1),ball.dy=1.5*-BALL_SPEED},end=function(t){alert(t),running=!1,window.location.reload()},update=function(){if(running){for(var t=0,e=gameObjects;t<e.length;t++){var i=e[t];i.update(),i.x+=i.dx,i.y+=i.dy,(i.x<0||i.x+i.width>canvas.width||i.y<0||i.y+i.height>canvas.height)&&gameObjects.splice(gameObjects.indexOf(i),1)}checkBrickCollision(),draw(),requestAnimationFrame(update)}},draw=function(){ctx.clearRect(0,0,canvas.width,canvas.height);for(var t=0,e=gameObjects;t<e.length;t++){e[t].draw()}for(var i=0;i<BRICK_COLUMN_COUNT;i++)for(var a=0;a<BRICK_ROW_COUNT;a++){var d=bricks[i][a];d&&(ctx.beginPath(),ctx.rect(d.x,d.y,BRICK_WIDTH,BRICK_HEIGHT),ctx.fill(),ctx.closePath())}ctx.fillText("Score: "+score,8,18),ctx.fillText("Lives: "+lives,canvas.width-ctx.measureText("Lives: "+lives).width-8,18)};ctx.font="16px Arial",ctx.fillStyle="#FFF",resetPaddleAndBall(),update();</script></body></html>